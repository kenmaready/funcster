(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{41:function(e){e.exports=JSON.parse('{"domain":"funcster.auth0.com","clientId":"f8hkuLAXMdv7vtcckO4nVYhMDTqjc3BD"}')},66:function(e,t,n){e.exports=n(99)},71:function(e,t,n){},94:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(24),o=n.n(c),s=n(5),i=n(6),l=n(8),u=n(7),h=n(102),m=n(15),p=Object(m.a)(),d=(n(71),n(13)),f=n.n(d),g=n(54),v=n(22),b="dev "===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_AUTH0_AUDIENCE:"https://funcster-auth0-api",REACT_APP_AUTH0_CALLBACK_URL:"http://localhost:3000/callback",REACT_APP_AUTH0_CLIENT_ID:"f8hkuLAXMdv7vtcckO4nVYhMDTqjc3BD",REACT_APP_AUTH0_DOMAIN:"funcster.auth0.com"}).REACT_APP_ENV?"http://localhost:5000":"https://funcster-api.herokuapp.com",E=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={usertype:null,profile:null,error:""},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated()&&this.getUser()}},{key:"getUser",value:function(){var e=this;this.props.auth.getProfile((function(t,n){e.setState({profile:t,error:n}),f.a.get("".concat(b,"/")),console.log(t)})),console.log(this.state.profile)}},{key:"render",value:function(){var e=this.props.auth.isAuthenticated,t=this.state.profile;return r.a.createElement("div",{className:"main-page container-fluid"},!e()&&r.a.createElement(a.Fragment,null,r.a.createElement("h2",null,"welcome to funcster..."),r.a.createElement("div",{className:"spacer"}),r.a.createElement("p",null,"funcster is a snippet library and reviewing platform for python functions and classes. Store your functions and classes in a searchable library, and get a mentor to review and edit your code."),r.a.createElement("h4",null,"sign up and get started!"),r.a.createElement("div",{className:"spacer"}),r.a.createElement(g.a,{className:"signup-btns"},r.a.createElement(v.a,{variant:"outline-primary",onClick:function(){return p.push("/signup/coder")}},"I'm a Coder"),r.a.createElement(v.a,{className:"btn-right",variant:"outline-secondary",onClick:function(){return p.push("/signup/mentor")}},"I'm a Mentor"))),e()&&t&&r.a.createElement(a.Fragment,null,r.a.createElement("h4",null,"Welcome back, ".concat(t.nickname," "))))}}]),n}(a.Component),k=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){if(!/access_token|id_token|error/.test(this.props.location.hash))throw new Error("Invalid callback URL received from auth0");this.props.auth.handleAuthentication()}},{key:"render",value:function(){return r.a.createElement("div",{className:"main-page"},r.a.createElement("h4",null,"Logging you into funcster.  Just a sec..."))}}]),n}(a.Component),O=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"main-page container-fluid"},r.a.createElement("h2",null,"log in..."))}}]),n}(a.Component),y=n(29),j=n(10),C=n(16),w=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={username:"",email:"",password:"",usertype:e.props.match.params.usertype},e.handleChange=function(t){e.setState(Object(y.a)({},t.target.name,t.target.value))},e.submitSignup=function(t){t.preventDefault(),f.a.post("".concat(b,"/signup"),{username:e.state.username,email:e.state.email,password:e.state.password,usertype:e.state.usertype}).then((function(e){return console.log("response received..."),console.log(e),{response:e}})).then((function(e){return p.push("/")})).catch((function(e){return console.error(e)}))},e}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"main-page container-fluid"},r.a.createElement("h2",null,this.state.usertype," sign up..."),r.a.createElement(j.a,null,r.a.createElement(C.a,{controlId:"formUsername"},r.a.createElement(j.a.Label,null,"Username:"),r.a.createElement(j.a.Control,{type:"text",value:this.state.username,name:"username",onChange:this.handleChange,placeholder:"enter a username"})),r.a.createElement(C.a,{controlId:"formEmail"},r.a.createElement(j.a.Label,null,"Email address:"),r.a.createElement(j.a.Control,{type:"email",value:this.state.email,name:"email",onChange:this.handleChange,placeholder:"enter your email address"})),r.a.createElement(C.a,{controlId:"formPassword"},r.a.createElement(j.a.Label,null,"Password:"),r.a.createElement(j.a.Control,{type:"password",value:this.state.password,name:"password",onChange:this.handleChange,placeholder:"enter a password"})),r.a.createElement(v.a,{onClick:this.submitSignup,variant:"primary",type:"submit"},"Submit")))}}]),n}(a.Component),A=Object(h.e)(w),S=n(57),T=n.n(S),_=n(40),x=(n(93),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={code:"",coderId:1,snippetName:"",needsReview:!1,hasComments:!0,comments:""},e.handleChange=function(t){"needsReview"===t.target.name?e.setState({needsReview:!e.state.needsReview}):e.setState(Object(y.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),f.a.post("".concat(b,"/coders/").concat(e.state.coderId,"/snippets"),{snippetName:e.state.snippetName,code:e.state.code,needsReview:e.state.needsReview}).then((function(e){return console.log("response received..."),console.log(e),{response:e}})).then((function(e){return p.push("/")})).catch((function(e){return console.error(e)}))},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"main-page"},r.a.createElement(j.a,null,r.a.createElement(C.a,{controlId:"formUsername"},r.a.createElement(j.a.Label,null,"Name:"),r.a.createElement(j.a.Control,{type:"text",value:this.state.snippetName,name:"snippetName",onChange:this.handleChange,placeholder:"enter a name for this code snippet"})),r.a.createElement(C.a,null,r.a.createElement(j.a.Label,null,"Code Editor:"),r.a.createElement(T.a,{className:"snippet-editor",value:this.state.code,onValueChange:function(t){return e.setState({code:t})},highlight:function(e){return Object(_.highlight)(e,_.languages.python)},padding:10,style:{fontFamilty:'"Fira code", "Fira Mono", monospace',fontSize:12}})),this.state.hasComments&&r.a.createElement(j.a.Group,null,r.a.createElement(j.a.Label,null,"Your Mentor left you some comments on this code:"),r.a.createElement(j.a.Control,{as:"textarea",readOnly:!0,value:this.state.comments})),r.a.createElement(j.a.Group,{controlId:"formBasicCheckbox"},r.a.createElement(j.a.Check,{type:"checkbox",label:"Needs review",name:"needsReview",checked:this.state.needsReview,onChange:this.handleChange})),r.a.createElement(v.a,{onClick:this.handleSubmit,variant:"primary",type:"submit"},"Submit")))}}]),n}(a.Component)),I=(n(94),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(x,null))}}]),n}(a.Component)),N=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={message:"",mentors:[]},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.getMentors()}},{key:"getMentors",value:function(){var e=this;f.a.get("".concat(b,"/mentors"),{headers:{Authorization:"Bearer ".concat(this.props.auth.getAccessToken())}}).then((function(t){console.log(t),e.setState({mentors:t.data.mentors})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.props.auth.isAuthenticated,t=this.state.mentors.map((function(e,t){return r.a.createElement("div",{key:t},e.username)}));return r.a.createElement("div",{className:"main-page"},e()?r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Mentors:"),r.a.createElement("div",null,t)):r.a.createElement("h4",null,"loading..."))}}]),n}(a.Component),P=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={message:"",coders:[]},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.getCoders()}},{key:"getCoders",value:function(){var e=this;f.a.get("".concat(b,"/coders"),{headers:{Authorization:"Bearer ".concat(this.props.auth.getAccessToken())}}).then((function(t){console.log(t),e.setState({coders:t.data.coders})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.props.auth.isAuthenticated,t=this.state.coders.map((function(e,t){return r.a.createElement("div",{key:t},e.username)}));return r.a.createElement("div",{className:"main-page"},e()?r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Coders:"),r.a.createElement("div",null,t)):r.a.createElement("h4",null,"loading..."))}}]),n}(a.Component),D=n(104),R=n(103),L=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props.auth,t=e.login,n=e.logout,c=e.isAuthenticated;console.log(c());var o=r.a.createElement("div",{className:"container-fluid"},r.a.createElement(a.Fragment,null,r.a.createElement(D.a.Link,{onClick:function(){return p.push("/")}},"Home"),c()?r.a.createElement(a.Fragment,null,r.a.createElement(D.a.Link,{onClick:function(){return n()}},"Log out"),r.a.createElement(D.a.Link,{onClick:function(){return p.push("/mentors")}},"Mentors")):r.a.createElement(a.Fragment,null,r.a.createElement(D.a.Link,{onClick:function(){return t()}},"Login"))));return r.a.createElement("div",null,r.a.createElement(R.a,{bg:"primary",variant:"dark",expand:"lg",fixed:"top"},r.a.createElement(R.a.Brand,null,"</> funcster"),r.a.createElement(D.a,{className:"mr-auto"},o)))}}]),n}(a.Component),M=n(62),U=function(){function e(t){var n=this;Object(s.a)(this,e),this.login=function(){n.auth0.authorize()},this.logout=function(){localStorage.removeItem("access_token"),localStorage.removeItem("id_token"),localStorage.removeItem("expires_at"),n.userProfile=null,n.auth0.logout({clientID:"f8hkuLAXMdv7vtcckO4nVYhMDTqjc3BD",returnTo:"http://localhost:3000"})},this.handleAuthentication=function(){n.auth0.parseHash((function(e,t){t&&t.accessToken&&t.idToken?(n.setSession(t),n.history.push("/")):e&&(n.history.push("/"),console.error(e))}))},this.getAccessToken=function(){var e=localStorage.getItem("access_token");if(!e)throw new Error("No access token found. User is either logged out or access token has been removed from browser.");return console.log("accessToken obtained: ",e),e},this.getProfile=function(e){if(n.userProfile)return e(n.userProfile);n.auth0.client.userInfo(n.getAccessToken(),(function(t,a){a&&(n.userProfile=a),e(a,t)}))},this.setSession=function(e){var t=JSON.stringify(1e3*e.expiresIn+(new Date).getTime());localStorage.setItem("access_token",e.accessToken),localStorage.setItem("id_token",e.idToken),localStorage.setItem("expires_at",t)},this.history=t,this.userProfile=null,this.auth0=new M.a.WebAuth({domain:"funcster.auth0.com",clientID:"f8hkuLAXMdv7vtcckO4nVYhMDTqjc3BD",redirectUri:"http://localhost:3000/callback",audience:"https://funcster-auth0-api",responseType:"token id_token",scope:"openid profile email"})}return Object(i.a)(e,[{key:"isAuthenticated",value:function(){var e=JSON.parse(localStorage.getItem("expires_at"));return(new Date).getTime()<e}}]),e}(),B=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).auth=new U(p),a}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(h.c,{history:p},r.a.createElement(L,{auth:this.auth}),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",render:function(t){return r.a.createElement(E,Object.assign({auth:e.auth},t))}}),r.a.createElement(h.b,{exact:!0,path:"/callback",render:function(t){return r.a.createElement(k,Object.assign({auth:e.auth},t))}}),r.a.createElement(h.b,{exact:!0,path:"/login",component:O}),r.a.createElement(h.b,{exact:!0,path:"/signup/:usertype",component:A}),r.a.createElement(h.b,{exact:!0,path:"/snippet",component:I}),r.a.createElement(h.b,{exact:!0,path:"/mentors",render:function(t){return e.auth.isAuthenticated()?r.a.createElement(N,Object.assign({auth:e.auth},t)):r.a.createElement(h.a,{to:"/"})}}),r.a.createElement(h.b,{exact:!0,path:"/coders",render:function(t){return e.auth.isAuthenticated()?r.a.createElement(P,Object.assign({auth:e.auth},t)):r.a.createElement(h.a,{to:"/"})}})))}}]),n}(a.Component),W=(n(95),n(23)),F=n.n(W),H=n(34),V=n(25),J=n(64),Y=n(63),q=function(){return window.history.replaceState({},document.title,window.location.pathname)},z=r.a.createContext(),K=function(e){var t=e.children,n=e.onRedirectCallback,c=void 0===n?q:n,o=Object(J.a)(e,["children","onRedirectCallback"]),s=Object(a.useState)(),i=Object(V.a)(s,2),l=i[0],u=i[1],h=Object(a.useState)(),m=Object(V.a)(h,2),p=m[0],d=m[1],f=Object(a.useState)(),g=Object(V.a)(f,2),v=g[0],b=g[1],E=Object(a.useState)(!0),k=Object(V.a)(E,2),O=k[0],y=k[1],j=Object(a.useState)(!1),C=Object(V.a)(j,2),w=C[0],A=C[1];Object(a.useEffect)((function(){(function(){var e=Object(H.a)(F.a.mark((function e(){var t,n,a,r,s;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.a)(o);case 2:if(t=e.sent,b(t),!window.location.search.includes("code=")||!window.location.search.includes("state=")){e.next=10;break}return e.next=7,t.handleRedirectCallback();case 7:n=e.sent,a=n.appState,c(a);case 10:return e.next=12,t.isAuthenticated();case 12:if(r=e.sent,u(r),!r){e.next=19;break}return e.next=17,t.getUser();case 17:s=e.sent,d(s);case 19:y(!1);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var S=function(){var e=Object(H.a)(F.a.mark((function e(){var t,n,a=arguments;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},A(!0),e.prev=2,e.next=5,v.loginWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,A(!1),e.finish(10);case 13:return e.next=15,v.getUser();case 15:n=e.sent,d(n),u(!0);case 18:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(H.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,v.handleRedirectCallback();case 3:return e.next=5,v.getUser();case 5:t=e.sent,y(!1),u(!0),d(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(z.Provider,{value:{isAuthenticated:l,user:p,loading:O,popupOpen:w,loginWithPopup:S,handleRedirectCallback:T,getIdTokenClaims:function(){return v.getIdTokenClaims.apply(v,arguments)},loginWithRedirect:function(){return v.loginWithRedirect.apply(v,arguments)},getTokenSilently:function(){return v.getTokenSilently.apply(v,arguments)},getTokenWithPopup:function(){return v.getTokenWithPopup.apply(v,arguments)},logout:function(){return v.logout.apply(v,arguments)}}},t)},X=n(41);o.a.render(r.a.createElement(K,{domain:X.domain,client_id:X.clientId,redirect_uri:window.location.origin,onRedirectCallback:function(e){p.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}},r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null))),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.5524421d.chunk.js.map